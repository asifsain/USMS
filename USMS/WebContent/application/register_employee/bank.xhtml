<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head></h:head>
<h:body>
	<ui:composition>
	<ui:include src="/application/register_employee/register_employee_common.xhtml"></ui:include>
	       <fieldset class="fieldset">
	    	<legend class="legend"><font color="orange" size="4">Bank Details</font></legend>
			<table id="Bank Details" class="table" cellpadding="10" >

				<tbody>

				<tr>
					<td style="width:120px"><h:outputText value="Bank Name" /></td>
					<td style="width:200px"><h:inputText styleClass="inputText" id="txt_bankName" required="true" requiredMessage="Enter Bank Name" value="#{employeeMB.model.empBankInfo.bankName}" 
					 disabled="#{menuBean.mode eq 'view'}" maxlength="20"/></td>
					<td style="width:100px"><rich:message for="txt_bankName"/></td>
					<td style="width:140px"><h:outputText value="Account Holders Name" /></td>
					<td style="width:200px"><h:inputText styleClass="inputText" id="txt_holderName" required="true" requiredMessage="Enter Acount Holder Name" value="#{employeeMB.model.empBankInfo.accHldrName}" disabled="#{menuBean.mode eq 'view'}"/></td>
				    <td style="width:100px"><rich:message for="txt_holderName"/></td>
				</tr>
				<tr>
					<td style="width:140px"><h:outputText value="Branch" /></td>
					<td  style="width:200px"><h:inputText styleClass="inputText" id="txt_branch" maxlength="20" required="true" requiredMessage="Enter Branch" value="#{employeeMB.model.empBankInfo.branch}" disabled="#{menuBean.mode eq 'view'}"/></td>
                    <td style="width:100px"><rich:message for="txt_branch" /></td>
                    <td style="width:100px"></td>
                    <td style="width:100px"></td>       
                    <td style="width:100px"></td>
				</tr>
				<tr>
					<td style="width:140px"><h:outputText value="IBAN No" /></td>
					<td style="width:200px"> <h:inputText styleClass="inputText" value="#{employeeMB.model.empBankInfo.ibanNo}" 
					disabled="#{menuBean.mode eq 'view'}" maxlength="100"/></td>
					<td style="width:100px"></td>
					<td style="width:140px"><h:outputText value="Central Bank Routing Code" /></td>
				    <td style="width:200px"><h:inputText id="cntrlCode" styleClass="inputText" required="true" 
				     requiredMessage="Enter Central Rounting code 9 digit" maxlength="100" value="#{employeeMB.model.empBankInfo.cbrCode}" disabled="#{menuBean.mode eq 'view'}">
					</h:inputText></td>
                    <td style="width:100px"><rich:message for="cntrlCode"/></td>
				</tr>

				<tr> 
					<td colspan="7" style="padding-top: 15px;">
						<center>
							<h:button value="Reset"
								styleClass="orange" style="height:30px; width:60px;" />
							   &nbsp;&nbsp;&nbsp;
							 <a4j:commandButton id="bankFile" value="Save" oncomplete="#{rich:component('confirmation')}.show();"   execute="@form"  actionListener="#{employeeMB.updateEmployee}" 
							 styleClass="green" style="height:30px; width:60px;" rendered="#{menuBean.mode eq 'update'}"/>  &nbsp;&nbsp;&nbsp;
							<a4j:commandButton value="Next" oncomplete="navToSalary();" render="centreContentForm" actionListener="#{employeeMB.updateBankDetails}" styleClass="green" style="height:30px; width:60px;"/>
						</center>
					</td>
				</tr>
            </tbody>
			</table>
			</fieldset>
			<script >
	
			
				var navToSalary =  function() {
					//alert("reached");
					
					if($J("#centreContentForm\\:prevStepValidatedStatus").attr("value") == 'true'){
						changeCenterPage('/application/register_employee/salary.xhtml','sal_item');
					    validate(false);
					  }
					else
						alert("Validation Not Passed From Server Side")
					};
			
			</script>
	</ui:composition>
</h:body>
</html>
