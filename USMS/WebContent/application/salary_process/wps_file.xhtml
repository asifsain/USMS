<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:my="http://java.sun.com/jsf/composite/components">  
     

<h:head></h:head> 
<h:body>
  <ui:composition>
	<ui:include src="/application/register_employee/register_employee_common.xhtml"></ui:include>
      <fieldset class="fieldset" style="width:85%; height: 100%">
       <legend class="legend"><font color="orange" size="4">WPS File</font></legend>
   
        <table class="table" cellpadding="10" style="width: 60%;">
        <tr>
        <td>
         <label>Employee ID/First Name:</label>
         </td>   <td>
        <h:inputText value="#{documentGenerationMB.model.empName}" id="txt_Emp_Name" styleClass="inputText"/>
        </td>
      </tr>
	    
			<tr > 
			    <td style="height:100px;vertical-align: top;"><h:outputText value="Month:" /></td>
			     <td style="height:100px;vertical-align: top;">
			     
			    <h:selectOneMenu  value="#{documentGenerationMB.model.month}" id="dMonth">
                       <f:selectItems value="#{documentGenerationMB.model.months}"></f:selectItems>
                </h:selectOneMenu>
			     
			     
			     </td>
				
		  		  <td style="height:100px;vertical-align: top;"><h:outputText value="Year:" /></td>
				
                   <td style="height:100px;vertical-align: top;">
                   <h:selectOneMenu value="#{documentGenerationMB.model.year}" id="dyear">
                     <f:selectItems value="#{documentGenerationMB.model.years}"></f:selectItems>
                   </h:selectOneMenu>
                   
                   
                   </td>
                  <td style="height:100px;vertical-align: top;"><a4j:commandButton value="Search" execute="txt_Emp_Name,dMonth,dyear"    oncomplete="showEmpDeail()" actionListener="#{documentGenerationMB.searchEmployee}"
 							render="paySlip,btn_Sal_Slip,btn_Exp_lt,btn_Sal_Certificate,btn_WSPS_download,btn_WSPS_File"   styleClass="green" style="height:30px; width:60px;"/></td> 
                
			  </tr>
         </table>
   
    <div id="salarySlip" style="visibility:hidden; float:left;right:50px;top:0px;height:50%; width:500px; margin-left:20px;">
     <rich:dataTable value="#{documentGenerationMB.model.empSalarySlpList}" var="pdfrecord" 
      onrowmousemove="this.style.backgroundColor='#FFEBDA'"
      onrowmouseout="this.style.backgroundColor='#{a4jSkin.rowBackgroundColor}'"   
     id="paySlip" style="width:100%;text-align:center" rowClasses="odd-row,even-row"  rows="5">
    
     <rich:column   width="25%">  
     <f:facet name="header"><h:outputText  value="Select All" ></h:outputText> <br></br> 
        <h:selectBooleanCheckbox value="#{salaryProcessMB.model.checkAllNone}" onchange="checkAllCheckboxesInTable(this);" />  
      </f:facet>
    <h:selectBooleanCheckbox value="#{pdfrecord.empInfo.flag}" styleClass="checkBoxClass">     

    </h:selectBooleanCheckbox>  
     </rich:column>   
       <rich:column   width="25%">
      <f:facet name="header"><h:outputText  value="EMP No" ></h:outputText> 
     </f:facet>
     <h:outputText  value="#{pdfrecord.empInfo.empNo}"></h:outputText> 
    </rich:column>
    <rich:column   width="25%">
    <f:facet name="header">
    <h:outputText  value="NAME" ></h:outputText> 
    </f:facet>
     <h:outputText  value="#{pdfrecord.empInfo.firstName} #{pdfrecord.empInfo.lastName}"></h:outputText>
     </rich:column>
    <rich:column   width="25%">
    <f:facet name="header">
    <h:outputText  value="MONTH" ></h:outputText> 
    </f:facet>
    <h:outputText  value="#{pdfrecord.salTrxMonth}"></h:outputText>
    
    </rich:column>
        <f:facet name="footer">
         <rich:dataScroller id="scroller"  execute="paySlip" for="paySlip" maxPages="10" renderIfSinglePage="false" boundaryControls="hide" fastControls="hide" />     
     </f:facet>
    </rich:dataTable>
      <br></br>
    <div align="right">
       <a4j:commandButton execute="@form" disabled="#{documentGenerationMB.docModel.wpsfileStatus eq 'generated'}"  render="btn_WSPS_download" styleClass="green" style="height:30px; width:80px;" value="Generate" oncomplete="#{rich:component('confirmation')}.show();" actionListener="#{documentGenerationMB.generateWPSDocument}" id="btn_WSPS_File"></a4j:commandButton>
       &nbsp; 
       <h:commandButton  disabled="#{documentGenerationMB.docModel.wpsfileStatus eq 'Pending'}"  styleClass="green" style="height:30px; width:80px;" value="download" action="#{documentGenerationMB.downloadWPSFile}" id="btn_WSPS_download"></h:commandButton>
      <h:outputText value="#{documentGenerationMB.docModel.hrDocuments.softFilePath}"></h:outputText>
    </div>
    </div>              
     
  </fieldset>          
        
           
   
        <script >
   
           $(document).ready(function(){
			   
// 			if(mode_type=='update'){
// 				$("#tablediv1").hide();
				
// 			}
// 			else if(mode_type=='view')
// 				{
// 				//alert("view");
// 				$("#searchdiv").hide();
// 				$("#tablediv").hide();
// 				document.getElementById('pdf').style.visibility="visible";
// 				//alert("hello");
// 				}
               });
       
        var showEmpDeail=  function() {
		   
		     document.getElementById('salarySlip').style.visibility="visible";
		
		   
         };
                 
  </script>  
  </ui:composition>
</h:body> 

     


</html>
