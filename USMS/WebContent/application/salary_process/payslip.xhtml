<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:my="http://java.sun.com/jsf/composite/components">  
     

<h:head></h:head> 
<h:body>
  <ui:composition>
	<ui:include src="/application/register_employee/register_employee_common.xhtml"></ui:include>
 
    <div id="pdf">
    <label>Employee ID/Employee Name</label>
    <h:inputText value="#{documentGenerationMB.model.empName}" id="txt_Emp_Name"/>
    <br></br><br></br>
    <table style="padding-top: 0px; padding-left: 10px; width:400px">
	    
			<tr > 
			    <td style="height:100px;vertical-align: top;"><h:outputText value="Month:" /></td>
			     <td style="height:100px;vertical-align: top;">
			     
			    <h:selectOneMenu  value="#{documentGenerationMB.model.month}" >
                       <f:selectItems value="#{documentGenerationMB.model.months}"></f:selectItems>
                </h:selectOneMenu>
			     
			     
			     </td>
				
		  		  <td style="height:100px;vertical-align: top;"><h:outputText value="Year:" /></td>
				
                   <td style="height:100px;vertical-align: top;">
                   <h:selectOneMenu value="#{documentGenerationMB.model.year}" >
                     <f:selectItems value="#{documentGenerationMB.model.years}"></f:selectItems>
                   </h:selectOneMenu>
                   
                   
                   </td>
                  <td style="height:100px;vertical-align: top;"><a4j:commandButton value="Search" execute="@form"    oncomplete="showEmpDeail()" actionListener="#{documentGenerationMB.searchEmployee}"
 							render="pdftable,btn_Sal_Slip,btn_Exp_lt,btn_Sal_Certificate"  style="min-height: 20px; min-width: 50px; font-size: 12px;"/></td> 
                
			  </tr>
         </table>
     </div>
    <div id="salarySlip" style="visibility:hidden; float:left;right:50px;top:20px;height:50%; width:500px; margin-left:20px;">
     <rich:dataTable value="#{documentGenerationMB.model.empSalarySlpList}" var="pdfrecord"  id="pdftable" style="width:100%;text-align:center">
    
     <rich:column   width="25%">
     <f:facet name="header"><h:outputText  value="Select" ></h:outputText> 
      </f:facet>
    <h:selectBooleanCheckbox value="#{pdfrecord.empInfo.flag}" >
        <a4j:ajax event="change" render="pdftable"></a4j:ajax>
    </h:selectBooleanCheckbox>
     </rich:column>
       <rich:column   width="25%">
      <f:facet name="header"><h:outputText  value="ID" ></h:outputText> 
     </f:facet>
     <h:outputText  value="#{pdfrecord.empInfo.empNo}"></h:outputText> 
    </rich:column>
    <rich:column   width="25%">
    <f:facet name="header">
    <h:outputText  value="NAME" ></h:outputText> 
    </f:facet>
     <h:outputText  value="#{pdfrecord.empInfo.firstName}"></h:outputText>
     </rich:column>
    <rich:column   width="25%">
    <f:facet name="header">
    <h:outputText  value="Month" ></h:outputText> 
    </f:facet>
    <h:outputText  value="#{pdfrecord.salTrxMonth}"></h:outputText>
    </rich:column>

     <rich:column   width="25%">
       <f:facet name="header">
       <h:outputText  value="Action" ></h:outputText> 
      </f:facet>
      <h:commandLink  action="#{documentGenerationMB.viewPDFSalarySlip}"  value="View" target="_blank" disabled="#{pdfrecord.softFilePath eq null}">
        <f:setPropertyActionListener target="#{documentGenerationMB.model.empSalTrx}" value="#{pdfrecord}"></f:setPropertyActionListener>
    
     </h:commandLink>  
    </rich:column>
    </rich:dataTable>
      <br></br>
    <div align="right">
     <a4j:commandButton  render="pdftable" style="min-height: 25px; min-width: 80px; font-size: 16px;" value="SalarySlip" actionListener="#{documentGenerationMB.generatePDFSalarySlipBulk}" id="btn_Sal_Slip"></a4j:commandButton> &nbsp;&nbsp;
      <a4j:commandButton   style="min-height: 25px; min-width: 80px; font-size: 16px;" value="GenerateWPS" actionListener="#{documentGenerationMB.generateWPSDocument}" id="btn_WSPS_File"></a4j:commandButton>
    </div>
    </div>       

  
    
  
   
        <script >

           $(document).ready(function(){
			
// 			if(mode_type=='update'){
// 				$("#tablediv1").hide();
				
// 			}
// 			else if(mode_type=='view')
// 				{
// 				//alert("view");
// 				$("#searchdiv").hide();
// 				$("#tablediv").hide();
// 				document.getElementById('pdf').style.visibility="visible";
// 				//alert("hello");
// 				}
               });
       
        var showEmpDeail=  function() {
		   
		     document.getElementById('salarySlip').style.visibility="visible";
		
		   
         };
                 
  </script>
  </ui:composition>
</h:body> 

     


</html>
