<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head>
  
</h:head> 
<body>

   <h:form id="mainForm">
   <div style="float:left;">
   	<label>Employee ID/Employee Name</label>
   		<h:inputText value="#{employeeMB.model.empInfo.firstName}" id="empid"/>
   		<a4j:commandButton action="#{employeeMB.searchEmployee}" value="Search"  render="table" execute="@form"  id="btnSearch" oncomplete="navToComm()" />
           
  </div>
<!--    added by tariq -->
<br></br><br></br>

  
<div align="right" id="tablediv" style="visibility:hidden; float:left;right:50px;top:200px;height:100%; width:500px; margin-left:20px;">

 <rich:dataTable  value="#{employeeMB.model.empList}"  var="record"  id="table" style="width:100%;height:100%;text-align:center"
    styleClass="searchTable"
   headerClass="searchTableHeader"
   rowClasses="searchTableOddRow,searchTableEvenRow">
       <rich:column  width="25%">
     <f:facet name="header">
       <h:outputText  value="ID" ></h:outputText>
       </f:facet>
       <h:outputText value="#{record.empNo}"></h:outputText>
    </rich:column>
     <rich:column   width="25%">
      <f:facet name="header">
       <h:outputText  value="NAME" ></h:outputText> 
      </f:facet>
       <h:outputText  value="#{record.firstName}"></h:outputText>
    </rich:column>
    
     
     <rich:column  width="25%">
     <f:facet name="header">
      <h:outputText  value="Last Name" ></h:outputText>
     </f:facet>
        <h:outputText value="#{record.lastName}"></h:outputText>
    </rich:column>
    
     <rich:column  width="25%" >
     <f:facet name="header">
      <h:outputText  value="Action" ></h:outputText>
     </f:facet>
       <a4j:commandLink     action="#{employeeMB.selectEmployee}" execute="@this" oncomplete="navToFileDetail()" id="updateBtn" rendered="#{menuBean.mode !='saladj'}" >
          <f:setPropertyActionListener target="#{employee.model.empInfo}" value="#{record}"></f:setPropertyActionListener>
          <h:graphicImage      value="/resources/images/editrecord.gif"/>
       </a4j:commandLink>
       <a4j:commandLink   oncomplete="navToSalaryAdj()"  action="#{salaryProcess.selectEmployee}"  execute="@this"  id="salProcess" rendered="#{menuBean.mode eq 'saladj'}">
          <f:setPropertyActionListener target="#{salaryProcess.model.empInfo}" value="#{record}"></f:setPropertyActionListener>
          <h:graphicImage     value="/resources/images/addrecord.gif"/>
       </a4j:commandLink>
    </rich:column>
  
  
    </rich:dataTable>
    </div>
    <a4j:jsFunction  name="update" action="#{employeeMB.updateEmployee}">
            
    </a4j:jsFunction>
    
   </h:form>
        <script >
			   var navToComm =  function() {
				   
				    document.getElementById('tablediv').style.visibility="visible";
				   
                  };
                  
                   var navToFileDetail =  function() {
  					 alert("reached");
  					 changeCenterPage('/application/register_employee/file.xhtml','file_item');
  					 alert("Validation Not Passed From Server Side");
  					};
  					
  					 var navToSalaryAdj= function() {
  	  					 alert("reached");
  	  					 changePage('/application/salary_process/salary_adjustment.xhtml');
  	  					 alert("Validation Not Passed From Server Side");
  	  					};
                	
		</script>
</body> 

     

</html>
