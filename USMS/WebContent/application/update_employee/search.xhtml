<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head>
    <h:outputStylesheet name="kickstart-buttons.css"  library="css"/>
 
</h:head> 
<h:body>
    <ui:include src="/application/register_employee/register_employee_common.xhtml"></ui:include>  
       
    <fieldset class="fieldset" style="width: 70%">  
  <legend class="legend"><font color="orange" size="4">Search Detail</font></legend>
   <h:form id="mainForm" prependId="false">
   <table  class="table" cellpadding="10" style="width: 70%;border: 0px">
   <tr>
        <td>
   	    <label>Employee ID/First Name: </label>
   	   </td> <td>
   	    	<h:inputText value="#{employeeMB.model.empSearchInfo}" id="empid" styleClass="inputText" />
   		</td>
   		<td>     
   		<a4j:commandButton action="#{employeeMB.searchEmployee}" value="Search"  styleClass="green" style="height:30px; width:60px;" render="table" execute="@form"  id="btnSearch" oncomplete="navToComm()" />
        </td>   
   </tr>
  </table>
 

  
<div align="right" id="tablediv" style="visibility:hidden; float:left;right:50px;top:200px;height:100%; width:500px; margin-left:20px;">

 <rich:dataTable  value="#{employeeMB.model.empList}"  var="record"  id="table"  noDataLabel="No Emplooyee is Found" style="width:100%;height:100%;text-align:center"
    styleClass="stable" rows="5"  
    onrowmousemove="this.style.backgroundColor='#FFEBDA'"
     onrowmouseout="this.style.backgroundColor='#{a4jSkin.rowBackgroundColor}'" 
    rowClasses="odd-row,even-row">
       <rich:column  width="25%">  
         <f:facet name="header"> 
       <h:outputText  value="EMP No" ></h:outputText>
       </f:facet>
       <h:outputText value="#{record.empNo}"></h:outputText>
    </rich:column>
     <rich:column   width="25%"> 
      <f:facet name="header">
       <h:outputText  value="FIRST NAME" ></h:outputText> 
      </f:facet>
       <h:outputText  value="#{record.firstName}"></h:outputText>
    </rich:column>
    
     
     <rich:column  width="25%">
     <f:facet name="header">
      <h:outputText  value="LAST NAME" ></h:outputText>
     </f:facet>
        <h:outputText value="#{record.lastName}"></h:outputText>
    </rich:column>
    
     <rich:column  width="25%" >
     <f:facet name="header">
      <h:outputText  value="Action" ></h:outputText>
     </f:facet>
       <a4j:commandLink     action="#{employeeMB.selectEmployee}" execute="@this" oncomplete="navToFileDetail()" id="updateBtn" rendered="#{menuBean.mode !='saladj'}" >
          <f:setPropertyActionListener target="#{employeeMB.model.empInfo}" value="#{record}"></f:setPropertyActionListener>
          <h:graphicImage      value="/resources/images/editrecord.gif"/>
       </a4j:commandLink>
       <a4j:commandLink   oncomplete="navToSalaryAdj()"  action="#{salaryProcessMB.selectEmployee}"  execute="@this"  id="salProcess" rendered="#{menuBean.mode eq 'saladj'}">
          <f:setPropertyActionListener target="#{salaryProcessMB.model.empInfo}" value="#{record}"></f:setPropertyActionListener>
          <h:graphicImage     value="/resources/images/addrecord.gif"/>
       </a4j:commandLink> 
    </rich:column>
    <f:facet name="footer">
       <rich:dataScroller for="table"   
                maxPages="10" renderIfSinglePage="false" boundaryControls="hide" fastControls="hide"/>  
      </f:facet>
  
    </rich:dataTable>   
    </div>   
    <a4j:jsFunction  name="update" action="#{employeeMB.updateEmployee}">
            
    </a4j:jsFunction>
    
   </h:form>  
    
   </fieldset> 
 
        <script >
			   var navToComm =  function() {
				   
				    document.getElementById('tablediv').style.visibility="visible";
				   
                  };
                  
                   var navToFileDetail =  function() {
  					
  					 changeCenterPage('/application/register_employee/file.xhtml','file_item');
  					// alert("Validation Not Passed From Server Side");
  					};
  					
  					 var navToSalaryAdj= function() {
  	  					
  	  					 changePage('/application/salary_process/salary_adjustment.xhtml');
  	  				//	 alert("Validation Not Passed From Server Side");
  	  					};
  	  			
  	  				
                	
		</script>
</h:body> 

     

</html>
